int NUM = 1; //センサーの数
 
//int[] sensors = new int[NUM]; //センサーの値を格納する配列
int cnt; //カウンター
 
// グラフの線の色を格納
color[] col = new color[6];

// number of frames per 1 second
int numFrames = 10;

// y zahyo on one step before
float tyOld = 0;

float[] sensors = {
  2.10272,
  1.58822,
  3.69094,
  2.03561,
  1.63296,
  2.30404,
  1.6777,
  1.6777,
  0.69345,
  0.671081,
  2.72906,
  6.0621,
  9.35039,
  14.8756,
  18.9021,
  22.8615,
  25.5682,
  27.7604,
  29.9973,
  32.1224,
  34.2699,
  37.8713,
  37.4463,
  37.3121,
  37.5582,
  38.8108,
  39.5043,
  39.8622,
  40.2872,
  40.3991,
  41.2044,
  41.9873,
  40.6004,
  39.5714,
  37.8042,
  35.0975,
  32.6369,
  29.7289,
  26.888,
  24.0918,
  21.2062,
  18.8574,
  15.7928,
  12.7282,
  7.58321,
  3.55673,
  0.447387,
  1.0961,
  0.671081,
  0.35791,
  0.738189,
  0.827666,
  1.18558,
  2.70669,
  4.7423,
  10.536,
  11.5202,
  11.2742,
  12.9742,
  20.3114,
  22.1457,
  23.3089,
  24.8524,
  27.3801,
  27.8499,
  29.0354,
  30.4447,
  30.4894,
  30.825,
  30.5342,
  29.1696,
  27.6709,
  26.5748,
  24.9866,
  22.2575,
  18.7455,
  14.8756,
  10.5583,
  7.91875,
  3.5791,
  11.6544,
  13.9809,
  16.2849,
  18.41,
  20.0429,
  21.8996,
  23.5102,
  24.4721,
  24.9642,
  25.4787,
  25.9261,
  26.105,
  26.1274,
  26.0603,
  27.313,
  26.3287,
  26.1722,
  26.1722,
  26.3064,
  26.3735,
  24.8747,
  23.98,
  22.4141,
  20.1548,
  16.9112,
  16.9112,
  11.386,
  11.6544,
  11.1399,
  12.6163,
  12.6163,
  15.7033,
  19.6179,
  19.6179,
  22.8391,
  24.0023,
  24.8076,
  25.0761,
  24.7405,
  23.9128,
  22.347,
  20.0206,
  16.3744,
  12.1242,
  12.1242,
  9.35039,
  9.35039,
  12.7058,
  13.3769,
  17.6494,
  18.0073,
  19.2377,
  19.2377,
  21.1167,
  21.5193,
  20.5798,
  19.5956,
  18.41,
  18.41,
  14.4282,
  12.0571,
  9.73067,
  6.97924,
  8.14245,
  9.932,
  11.386,
  11.0728,
  9.95437,
  9.7083,
  12.236,
  17.1797,
  20.3785,
  20.3785,
  21.922,
  22.9286,
  23.9352,
  24.3826,
  24.1589,
  22.8615,
  22.0338,
  20.3785,
  18.9469,
  17.5599,
  15.0098,
  12.7058,
  10.4018,
  6.57659,
  3.84753,
  1.74481,
  0.380279,
  0.671081,
  4.4515,
  4.4515,
  8.76879,
  11.4979,
  12.1018,
  12.1018,
  12.6834,
  12.6834,
  12.5492,
  11.4979,
  10.5136,
  10.5136,
  12.6834,
  14.3835,
  14.9204,
  14.898,
  15.2559,
  15.2559,
  10.6702,
  10.6702,
  8.36614,
  5.41339,
  6.46475,
  6.44238,
  12.7058,
  14.3835,
  16.0388,
  15.8151,
  15.4349,
  15.6362,
  14.8533,
  13.9809,
  13.265,
  14.1151,
  15.1217,
  16.2849,
  16.8441,
  16.3073,
  16.2849,
  17.0231,
  18.0744,
  18.2087,
  16.6652,
  14.2269,
  12.7282,
  10.2675,
  7.40426,
  4.54098,
  3.08697,
  3.0646,
  4.71994,
  7.51611,
  9.97674,
  13.3769,
  15.0098,
  15.927,
  15.3678,
  14.2045,
  12.4597,
  11.4307,
  9.95437,
  7.82928,
  7.29241,
  8.38851,
  9.95437,
  8.74642,
  5.97262,
  3.17645,
  0.469757,
  0.850036,
  1.72244,
  2.14746,
  2.16983,
  2.483,
  2.63958,
  4.02649,
  5.32391,
  6.97924,
  8.72405,
  9.43987,
  10.1557,
  10.6926,
  10.961,
  11.4307,
  12.2584,
  12.8848,
  13.4664,
  14.1822,
  14.719,
  15.4349,
  14.719,
  14.2717,
  13.5782,
  11.7663,
  9.52935,
  8.18719,
  7.11346,
  6.50948,
  7.40426,
  8.3214,
  8.72405,
  8.74642,
  9.03722,
  9.50698,
  10.7373,
  11.9229,
  13.019,
  13.4887,
  13.3992,
  12.8848,
  12.0347,
  10.8939,
  9.932,
  9.14907,
  8.50036,
  8.41088,
  8.65694,
  7.7398,
  6.03973,
  3.0646,
  0.939513,
  0.33554,
  1.20795,
  3.08697,
  5.10021,
  7.58321,
  10.1557,
  12.6611,
  12.9519,
  13.0861,
  13.3769,
  13.6229,
  14.0032,
  14.3388,
  14.7638,
  15.2783,
  15.6809,
  15.5243,
  15.6362,
  15.8375,
  16.1954,
  16.173,
  15.8151,
  15.4349,
  15.0098,
  14.5848,
  14.2269,
  13.69,
  12.7505,
  12.1466,
  11.6992,
  10.9162,
  10.111,
  9.4175,
  8.76879,
  8.34377,
  7.65032,
  6.62133,
  6.08447,
  4.40676,
  2.63958,
  1.20795,
  1.58822,
  3.91464,
  6.03973,
  8.07534,
  10.7149,
  13.2203,
  14.8756,
  16.6875,
  17.9626,
  18.6113,
  18.8797,
  19.1705,
  19.6403,
  19.8416,
  21.0719,
  22.1009,
  23.0628,
  23.9352,
  24.9418,
  25.5458,
  26.5524,
  27.2906,
  27.3354,
  27.7827,
  27.8275,
  28.0064,
  28.1407,
  27.8722,
  27.8051,
  27.738,
  27.7156,
  27.8275,
  27.8499,
  28.4538,
  29.2368,
  29.192,
  28.6775,
  28.4091,
  28.2301,
  28.6775,
  28.8117,
  29.0354,
  28.7223,
  28.0288,
  28.0736,
  27.8051,
  27.8499,
  27.6933,
  27.6038,
  27.2459,
  26.5524,
  25.4787,
  24.3155,
  22.4812,
  21.5864,
  19.7745,
  18.5889,
  16.6428,
  13.5558,
  10.536,
  7.67269,
  5.70419,
  4.29492,
  2.39352,
  1.18558,
  0.671081,
  0.492126,
  1.47638,
  1.72244,
  1.6777,
  1.52112,
  1.47638,
  1.0961,
  0.536865,
  0.626342,
  2.66195,
  5.81603,
  8.23193,
  9.37276,
  9.86489,
  9.4175,
  8.3214,
  8.92538,
  9.55172,
  9.35039,
  8.12008,
  3.75805,
  0.738189,
  1.40927,
  3.84753,
  6.55422,
  8.34377,
  10.9386,
  13.869,
  15.3454,
  17.0455,
  18.0744,
  19.3271,
  20.5127,
  20.3338,
  19.6179,
  18.7455,
  17.7836,
  16.8441,
  16.352,
  15.3901,
  14.898,
  13.869,
  12.84,
  11.4979,
  10.1333,
  9.28329,
  7.80691,
  8.43325,
  9.73067,
  11.2518,
  12.1242,
  13.3992,
  16.2402,
  17.5823,
  18.2534,
  19.5732,
  20.8259,
  21.4298,
  22.6378,
  23.7115,
  24.0694,
  23.4655,
  22.7944,
  22.9062,
  22.9733,
  23.6668,
  23.7786,
  24.0694,
  24.3826,
  25.1655,
  26.0156,
  26.1498,
  26.105,
  26.1274,
  25.5234,
  25.5011,
  25.9708,
  25.5011,
  26.4406,
  26.8656,
  27.2683,
  27.0222,
  27.7156,
  28.2078,
  28.6999,
  29.1696,
  30.221,
  31.0263,
  31.5632,
  32.4132,
  32.6369,
  32.7711,
  32.9053,
  31.8092,
  31.9434,
  31.6303,
  31.3842,
  32.0329,
  32.0777,
  32.8382,
  33.0396,
  32.7264,
  32.8159,
  32.2566,
  32.279,
  32.0777,
  31.854,
  32.0329,
  32.3014,
  31.8987,
  30.5789,
  26.5748,
  21.318,
  15.6362,
  10.6478,
  8.00823,
  5.43576,
  3.13171,
  0.917144,
  0.626342,
  2.81854,
  4.89889,
  7.53848,
  10.3123,
  13.0861,
  13.9137,
  14.8085,
  15.6586,
  16.1283,
  16.9336,
  17.6942,
  18.2758,
  19.685,
  20.6693,
  21.8549,
  22.0338,
  22.5931,
  22.6378,
  22.7273,
  23.2194,
  23.6444,
  23.7563,
  23.8681,
  24.2484,
  23.3089,
  22.5707,
  20.893,
  18.2758,
  15.0098,
  12.9742,
  11.386,
  9.82015,
  8.34377,
  7.20293,
  6.95687,
  6.30816,
  5.79366,
  5.05548,
  4.3844,
  3.01986,
  1.58822,
  0.581603,
  0.469757,
  0.425018,
  0.559234,
  0.581603,
  0.738189,
  0.827666,
  0.872405,
  0.872405,
  0.559234,
  0.738189,
  1.40927,
  0.961883,
  0.447387,
  1.36453,
  2.12509,
  4.1607,
  4.1607,
  7.29241,
  9.30565,
  9.35039,
  9.35039,
  8.23193,
  3.98175,
  2.57248,
  3.62384,
  5.86077,
  9.05959,
  11.7215,
  12.9295,
  13.869,
  14.8756,
  16.7994,
  18.3429,
  19.8193,
  21.4298,
  22.8167,
  24.1365,
  25.0984,
  26.0156,
  26.6195,
  26.3287,
  26.2169,
  26.4853,
  26.4406,
  29.192,
  29.7513,
  34.8291,
  34.9633,
  30.6013,
  31.1829,
  31.0934,
  30.6237,
  30.4671,
  31.5184,
  30.8474,
  30.5789,
  29.9749,
  30.4223,
  30.2881,
  29.6618,
  30.0644,
  30.6908,
  29.5499,
  31.0039,
  31.0039,
  31.0039,
  31.9658,
  31.9658,
  31.5855,
  33.7777,
  33.8448,
  34.5607
};

void setup() {
  //画面設定
  size(852, 480);
  frameRate(60);
  
  //グラフ初期化
  initGraph();
}
 
void draw() {
  // センサーの数だけ、グラフをプロット  
  for (int w = 0; w < 632; w++) {
    float tx = map(w*10, 0, width, 0, width);
    float ty = map(sensors[w]*20, 0, 1023, height, 0);
    //for (int h = 0; h < numFrames; h++) {
    //  //fill(col[i]);

      
    //  //ellipse(tx, ty, 4, 4);
    //  }
    strokeWeight(10);
    stroke(col[0]);
    line(tx, 800, tx, ty);
  // 画面の右端まで描画したら再初期化
  if (w > width) {
    initGraph();
  }
  }

  delay(100);
  saveFrame("frames/######.tif");
}
 
//グラフの初期化
void initGraph() {
  background(47);
  noStroke();
  cnt = 0;
  // グラフ描画の線の色を定義
  col[0] = color(255, 127, 31);
  col[1] = color(31, 255, 127);
  col[2] = color(127, 31, 255);
  col[3] = color(31, 127, 255);
  col[4] = color(127, 255, 31);
  col[5] = color(127);
}